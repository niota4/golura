<div class="weather-options-form-container">
    <div 
        class="callout sticky text-center fade"
        ng-class="{'success success-text': UI.message,
        'alert alert-text': UI.errMessage}"
        ng-hide="!UI.message.length &&
        !UI.errMessage.length"
    >
        <p ng-if="UI.message.length">
            {{UI.message}}
        </p>
        <p ng-if="UI.errMessage.length">
            {{UI.errMessage}}
        </p>
    </div>  
    <div class="weather-options">
        <div class="weather-options-forecast-container">
            <h3 class="text-center">
                <b>
                    7 Day Forecast
                </b>
            </h3>
            <h6 class="text-center">
                <b>
                    {{$root.location}}
                </b>
            </h6>
            <weather-display 
                weather="$root.weather" 
                forecast="true"
                ng-if="$root.UI.weatherLoaded"
            ></weather-display>
            <hr/>
        </div>
        <h1>
            <b>
                Weather Options 
            </b>
        </h1>
        <form 
            class="weather-options-form golura-form" 
            name="weatherOptionsForm"
            ng-submit="updateWeatherOptions($event, $root.preferences.defaultLocation)"
        >
            <div class="grid-x grid-margin-x align-middle">
                <div class="cell small-12 medium-12 large-12">
                    <div class="input-container">
                        <label>
                            <b>
                                Weather Location
                            </b>
                        </label>
                        <address-lookup 
                            address="$root.preferences.defaultLocation"
                            input-id="dynamicAddressField1" 
                            city="true"
                            ng-model="$root.weather.location"
                            required
                            states="$root.states"
                        >
                        </address-lookup>
                        <button
                            class="weather-options-location-button location-button button clear"
                            ng-class="{'form-saving': $root.UI.locationLoading}"
                            ng-disabled="$root.UI.locationLoading"
                            aria-label="Get User Location"
                            id="weatherOptionsLocationButton"
                            type="button"
                            ng-click="$root.getUserLocation()"
                        >
                            <i 
                                class="fal fa-location-crosshairs"
                                ng-if="!$root.UI.locationLoading"
                            ></i>
                        </button>
                    </div>
                </div>
                <div class="cell small-12 medium-12 large-12 text-right">

                    <button 
                        class="weather-options-form-submit-button submit-button success button white-text" 
                        id="AddressFormSubmitButton"
                        type="submit"
                        data-close
                        ng-disabled="!weatherOptionsForm.$valid || UI.formSaving"
                        ng-class="{'form-success-saving': UI.formSaving}"
                    >
                        <span ng-if="!UI.formSaving">
                            <i class="fal fa-save"></i> Save
                        </span>
                        <span ng-if="UI.formSaving">
                            Please Wait...
                        </span>
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>