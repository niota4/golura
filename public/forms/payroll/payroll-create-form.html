<div class="payroll-create-edit-container create-edit-container">
    <div 
        class="callout text-center fade"
        ng-hide="!UI.message.length &&
        !UI.errMessage.length || 
        UI.modalFormSaved"
        ng-class="{'success success-text': UI.message,
        'alert alert-text': UI.errMessage}"
        data-sticky 
        data-options="marginTop:0;"
    >
        <button 
            class="close-button button clear"
            ng-class="{'success': UI.message,
            'alert': UI.errMessage}"
            type="button"
            ng-click="UI.errMessage = !UI.errMessage;
            UI.message = !UI.message"
        >
            <i class="fal fa-times-circle"></i>
        </button>
        <p ng-if="UI.message.length">
            {{UI.message}}
        </p>
        <p ng-if="UI.errMessage.length">
            {{UI.errMessage}}
        </p>
    </div>
    <div class="payroll-create-edit create-edit grid-container">
        <form 
            class="payroll-form golura-form"
            id="createPayrollForm"
            name="createPayrollForm"
            ng-submit="createPayroll($event, payroll)"
        >
            <h1 ng-class="{'text-center': $root.UI.isMobile}">
                <b>
                    Create Payroll
                </b>
            </h1>
            <div ng-if="UI.currentStep === 1">
                <div class="payroll-create-select-period">
                    <div class="grid-x grid-padding-x">
                        <div class="cell small-12 medium-12 large-12">
                            <h2 class="text-center">
                                <b>
                                    Please Select a Payroll Period
                                </b>
                            </h2>
                        </div>
                        <div class="cell small-12 medium-6 large-6">
                            <div class="input-container">
                                <label for="payrollStartDate">
                                    Start Date
                                </label>
                                <input 
                                    class="payroll-start-date-input form-input"
                                    type="text"
                                    id="payrollStartDate"
                                    name="payrollStartDate"
                                    ng-model="payroll.startDate" 
                                    autocomplete="off"
                                    flatpickr
                                    date-only="true"
                                    allow-past="true"
                                    max-date-model="payroll.endDate"
                                    placeholder="Select a Start Date"
                                />
                            </div>
                        </div>
                        <div class="cell small-12 medium-6 large-6">
                            <div class="input-container">
                                <label for="payrollEndDate">
                                    End Date
                                </label>
                                <input 
                                    class="payroll-end-date-input form-input"
                                    type="text"
                                    id="payrollEndDate"
                                    name="payrollEndDate"
                                    ng-model="payroll.endDate" 
                                    autocomplete="off"
                                    flatpickr
                                    date-only="true"
                                    allow-past="true"
                                    min-date-model="payroll.startDate"
                                    placeholder="Select an End Date"
                                />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div ng-if="UI.currentStep === 2">
                <div class="payroll-create-details">
                    <div class="grid-x grid-padding-x">
                        <div class="cell small-12 medium-12 large-12">
                            <div class="payroll-create-form-select-button-container select-container">
                                <div class="grid-x grid-margin-x align-middle">
                                    <div class="cell shrink text-right">
                                        <button 
                                            class="payroll-create-form-select-button select-button button"
                                            type="button"
                                            aria-label="payroll calculate hours button"
                                            ng-click="payroll.calculateHours = !payroll.calculateHours"
                                            ng-class="{'selected': payroll.calculateHours}"
                                        >
                                            <div 
                                                class="check-icon"
                                                ng-if="payroll.calculateHours"
                                            >
                                                <i class="fal fa-check"></i>
                                            </div>
                                        </button>
                                    </div>
                                    <div class="cell auto">
                                        <span>
                                            Calculate Hours?
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="cell small-12 medium-12 large-12">
                            <div class="input-container">
                                <label>
                                    Notes
                                </label>
                                <div class="form-textarea-container">
                                    <textarea 
                                        class="form-textarea"
                                        ng-model="payroll.notes"
                                        placeholder="Payroll notes"
                                    >
                                    </textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="payroll-create-edit-form-options-container">
                <div class="grid-x grid-margin-x align-middle">
                    <div class="cell small-12 medium-6 large-6 text-left">
                        <button 
                            class="event-button button warning white-text" 
                            type="button" 
                            ng-click="UI.currentStep = 1"
                            ng-if="UI.currentStep === 2"
                        >
                            <i class="fal fa-circle-arrow-left"></i> 
                            Back
                        </button>
                    </div>
                    <div class="cell small-12 medium-6 large-6 text-right">
                        <button 
                            class="button" 
                            type="button" 
                            ng-click="UI.currentStep = 2"
                            ng-if="UI.currentStep === 1"
                            ng-disabled="!validatePayrollForm(payroll)"
                        >
                            <i class="fal fa-check-circle"></i>  
                            Continue
                        </button>
                        <button 
                            class="payroll-create-form-submit-button submit-button button success white-text" 
                            type="submit" 
                            ng-if="UI.currentStep === 2"
                            ng-disabled="UI.formSaving || !validatePayrollForm(payroll)"
                            ng-class="{'form-saving': UI.formSaving}"
                        >
                            <span ng-if="!UI.formSaving">
                                <i class="fal fa-save"></i> 
                                Save
                            </span>
                            <span ng-if="UI.formSaving">
                                Please Wait...
                            </span>
                        </button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>