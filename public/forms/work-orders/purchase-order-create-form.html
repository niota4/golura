<div class="purchase-order-create-container create-edit-container">
    <div class="purchase-order-create create-edit"> 
        <div 
            class="callout sticky text-center fade"
            ng-class="{'success success-text': UI.message,
            'alert alert-text': UI.errMessage}"
            ng-hide="!UI.message.length &&
            !UI.errMessage.length"
        >
            <p ng-if="UI.message.length">
                {{UI.message}}
            </p>
            <p ng-if="UI.errMessage.length">
                {{UI.errMessage}}
            </p>
        </div>       
        <form
            class="purchase-order-create-form golura-form"
            id="purchaseOrderCreateForm"
            name="purchaseOrderCreateForm"
            ng-submit="createPurchaseOrder($event, purchaseOrder)"
        >
            <h1>
                <b>
                    New Purchase order
                </b>
            </h1>
            <div class="grid-x grid-margin-x">
                <div 
                    class="cell small-12 medium-12 large-12"
                    ng-if="!purchaseOrder.workOrderId &&
                    !purchaseOrder.eventId"
                >
                    <div class="input-container">
                        <label for="vendorId">
                            WorkOrder
                        </label>
                        <selectize
                            class="form-input"
                            config="workOrderOptions"
                            options="workOrders"
                            id="workOrderId"
                            name="workOrderId"
                            ng-model="purchaseOrder.workOrderId"
                        >
                        </selectize>
                    </div>
                </div>
                <div class="cell small-12 medium-12 large-12">
                    <div 
                        class="input-container"
                        ng-if="vendors.length"
                    >
                        <label for="vendorId">
                            Vendor
                        </label>
                        <selectize
                            class="form-input"
                            config="vendorOptions"
                            options="vendors"
                            id="vendorId"
                            name="vendorId"
                            ng-model="purchaseOrder.vendorId"
                        >
                        </selectize>
                    </div>
                    <div 
                        class="text-center"
                        ng-if="!vendors.length"
                    >
                        <h3>
                            No Vendors found. 
                            Please create one before creating a Purchase Order.
                            <button 
                                class="button small success white-text"
                                ng-class="{'expanded': $root.UI.isMobile}"
                                type="button"
                                ng-click="initVendorForm()"
                                data-open="vendorCreateFormReveal"
                            >
                                <i class="fal fa-layer-plus"></i> Create
                            </button>
                        </h3>
                    </div>
                </div>
                <div 
                    class="cell small-12 medium-12 large-12 text-right"
                    ng-if="vendors.length"
                >
                    <button 
                        class="purchase-order-form-submit-button submit-button button" 
                        id="purchaseOrderFormSubmitButton"
                        type="submit"
                        ng-disabled="UI.formSaving || 
                        !purchaseOrder.workOrderId ||
                        !purchaseOrder.vendorId"
                        ng-class="{'form-saving': UI.formSaving}"
                    >
                        <span ng-if="!UI.formSaving">
                            <i class="fal fa-save"></i> Save
                        </span>
                        <span ng-if="UI.formSaving">
                            Please Wait...
                        </span>
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>
<div
    class="vendor-create-form-reveal reveal large"
    id="vendorCreateFormReveal"
    data-reveal
    data-close-on-click="false"
>
    <button 
        class="close-button" 
        aria-label="closeVendorCreateFormReveal" 
        type="button" 
        data-close
    >
        <span aria-hidden="true">
            <i class="fal fa-times-circle"></i>
        </span>
    </button>
    <div ng-include="'dist/forms/inventory/vendor-form.html'"></div>
</div>