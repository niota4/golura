<div class="admin-estimators-container admin-form-container">
    <div class="admin-estimators admin-form-details">
        <div class="admin-estimator-container admin-list-container">
            <div class="admin-estimator admin-list-details">
                <div class="golura-block grid-y">
                    <div class="cell shrink position-relative">
                        <div class="estimator-search-container list-search-container">
                            <div class="estimator-search list-search">
                                <div class="search-input-container">
                                    <div class="grid-x align-middle">
                                        <div class="cell auto align-self-bottom">
                                            <input
                                                class="estimator-search-input search-input"
                                                id="estimatorSearchInput" 
                                                type="text"
                                                placeholder="Search estimators..."
                                                ng-model="search.estimator.value"
                                            />
                                        </div>
                                        <div class="cell shrink align-self-bottom">
                                            <span class="search-icon">
                                                <i class="fal fa-search"></i>
                                            </span>
                                        </div>
                                        <div class="cell shrink">
                                            <div class="estimator-search-create-button-container create-button-container button-group" ng-class="{'align-right': $root.UI.isMobile}">
                                                <button 
                                                    class="estimator-search-create-button create-button button success white-text" 
                                                    id="estimatorSearchCreateButton"
                                                    type="button"
                                                    ng-click="initEstimatorForm()"
                                                    data-open="estimatorFormReveal"
                                                >
                                                    <i class="fal fa-layer-plus"></i>
                                                    <span ng-if="!$root.UI.isMobile">
                                                        Create
                                                    </span>
                                                </button>
                                                <a 
                                                    class="estimator-question-option-buton button"
                                                    ng-href="admin-settings/variables"
                                                    ng-if="!$root.UI.isMobile"
                                                >
                                                    <i class="fal fa-search"></i>
                                                    <span ng-if="!$root.UI.isMobile">
                                                        View Variables
                                                    </span>
                                                </a>
                                                <a 
                                                    class="estimator-labor-option-button button"
                                                    href="#admin-settings"
                                                    ng-click="$root.goTo('admin-settings?tab=labor')"
                                                    ng-if="!$root.UI.isMobile"
                                                >
                                                    <i class="fal fa-users-gear"></i>
                                                    <span ng-if="!$root.UI.isMobile">
                                                        Manage Labor
                                                    </span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div 
                        class="cell shrink"
                        ng-if="$root.UI.isMobile"
                    >
                        <div 
                            class="estimator-options-button-container create-button-container button-group"
                            ng-class="{'stacked': $root.UI.isMobile}"
                        >
                            <a 
                                class="estimator-question-option-buton button expanded"
                                ng-href="admin-settings/variables"
                            >
                                <i class="fal fa-search"></i> View Variables
                            </a>
                        </div>
                    </div>
                    <div 
                        class="cell shrink"
                        ng-if="!$root.UI.isMobile"
                    >
                        <div class="estimator-list-header-container list-header-container">
                            <div class="estimator-list-header list-header">
                                <div class="grid-x grid-padding-x align-middle align-left">
                                    <div class="cell small-auto medium-auto large-auto">
                                        <h3>
                                            <b>
                                                Title
                                            </b>
                                        </h3>
                                    </div>
                                    <div class="cell small-12 medium-5 large-5">
                                        <h3 class="list-header-options">
                                            <b>
                                                Options
                                            </b>
                                        </h3>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div 
                        class="cell small-12 medium-auto large-auto"
                        ng-class="{'overflow-scroll': !$root.UI.isMobile}"
                    >
                        <div class="estimator-list-container list-container">
                            <ul 
                                class="estimator-list list"
                                id="estimatorList"
                            >
                                <li ng-if="!UI.estimatorsLoaded">
                                    <div class="ssc estimator-ssc">
                                        <div 
                                            class="ssc-square"
                                            ng-repeat="x in [].constructor(40) track by $index"
                                        ></div>
                                    </div>
                                </li>
                                <li
                                    class="estimator-list-item list-item position-relative"
                                    ng-repeat="e in filteredEstimators = 
                                    (estimators | filter:search.estimator.value) |
                                    orderBy: sort.estimator.value track by $index"
                                >
                                    <div class="grid-x grid-padding-x align-middle">
                                        <div class="cell small-auto medium-auto large-auto">
                                            <h6 class="list-item-name">
                                                <b ng-if="$root.UI.isMobile">Title:</b>
                                                {{e.title}}
                                            </h6>
                                        </div>
                                        <div class="cell small-auto medium-5 large-5">
                                            <div class="list-item-options-container">
                                                <div class="button-group" ng-class="{'align-right': $root.UI.isMobile}">
                                                <a 
                                                    class="list-item-options-button button success white-text"
                                                    ng-href="/estimates/estimator/{{e.id}}"
                                                    ng-cloak
                                                >
                                                    <i class="fal fa-play"></i>
                                                    <span ng-if="!$root.UI.isMobile">
                                                        Run
                                                    </span>
                                                </a>
                                                <a 
                                                    class="list-item-options-button button warning white-text"
                                                    ng-href="admin-settings/estimator/{{e.id}}"
                                                    ng-cloak
                                                >
                                                    <i class="fal fa-wrench"></i>
                                                    <span ng-if="!$root.UI.isMobile">
                                                        Configure
                                                    </span>
                                                </a>
                                                <button 
                                                    class="list-item-options-button button white-text"
                                                    data-open="estimatorFormReveal"
                                                    ng-click="initEstimatorForm(e)"
                                                    ng-cloak
                                                >
                                                    <i class="fal fa-edit"></i>
                                                    <span ng-if="!$root.UI.isMobile">
                                                        Edit
                                                    </span>
                                                </button>
                                                <button 
                                                    class="list-item-options-button button alert white-text"
                                                    type="button"
                                                    ng-click="e.delete = !e.delete"
                                                >
                                                    <i class="fal fa-archive"></i>
                                                    <span ng-if="!$root.UI.isMobile">
                                                        Delete
                                                    </span>
                                                </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div 
                                        class="estimator-list-item-delete-container list-item-delete-container list-item-delete-container black-overlay"
                                        ng-if="e.delete"
                                    >
                                        <div class="grid-x grid-padding-x align-middle">
                                            <div class="cell small-12 medium-auto large-auto text-center">
                                                <h4>
                                                    <b class="alert-text">Warning: </b>
                                                    <span class="white-text">Are you sure you want to delete 
                                                        this Estimator?
                                                    </span>
                                                </h4>
                                            </div>
                                            <div class="cell small-12 medium-auto large-auto" ng-class="{'text-center': $root.UI.isMobile}">
                                                <button 
                                                    class="list-item-options-button  button alert white-text"
                                                    type="button"
                                                    ng-disabled="UI.formSaving"
                                                    ng-class="{'form-alert': UI.formSaving}"
                                                    ng-click="deleteEstimator(e)"
                                                >
                                                    <span ng-if="!UI.formSaving">
                                                        <i class="fal fa-check-circle"></i> Confirm
                                                    </span>
                                                    <span ng-if="UI.formSaving">
                                                        Please Wait...
                                                    </span>
                                                </button>
                                                <button 
                                                    class="list-item-options-button button warning white-text"
                                                    type="button"
                                                    ng-click="e.delete = !e.delete"
                                                >
                                                    <i class="fal fa-times-circle"></i> Cancel
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div
    class="estimator-form-reveal reveal"
    id="estimatorFormReveal"
    data-reveal
    data-close-on-click="false"
>
    <button 
        class="close-button" 
        aria-label="closeEstimatorFormReveal" 
        type="button" 
        data-close
    >
        <span aria-hidden="true">
            <i class="fal fa-times-circle"></i>
        </span>
    </button>
    <div 
        ng-include="'dist/forms/admin/estimator-form.html'"
        ng-if="!UI.estimatorAi"
    ></div>
    <div 
        ng-include="'dist/forms/admin/estimator-ai-form.html'"
        ng-if="UI.estimatorAi"
    ></div>
</div>