<div 
    class="view-client-photos-container view-client-container view-container"
    ng-init="initClient();"
>
    <div format-clients client="client"></div>
    <div class="view-client-photos view-client-media view-client view">
        <div class="golura-block grid-y">
            <div class="cell shrink">
                <div class="grid-x grid-margin-x align-middle">
                    <div class="cell small-12 medium-12 large-4">
                        <div ng-include="'dist/partials/clients/top-bar.html'"></div>
                    </div>
                    <div class="cell small-12 medium-12 large-auto">
                        <div 
                            ng-include="'/dist/navigations/client-navigation.html'"
                            ng-if="!$root.UI.isMobile"
                        ></div>
                    </div>
                </div>
            </div>
            <div class="cell shrink">
                <div class="view-client-photos-folders-container view-client-media-folders-container">
                    <div 
                        class="grid-x grid-margin-x align-middle"
                        ng-if="$root.UI.isMobile"
                    >
                        <div class="cell auto">
                            <image-uploader 
                                client-id="{{client.id}}" 
                                ng-if="!UI.photoFolder"
                            ></image-uploader>
                        </div>
                        <div class="cell shrink">
                            <button
                                class="select-image-button button"
                                type="button"
                                ng-click="togglePhotosOptions()"
                                data-open="viewPhotoOptionsReveal"
                            >      
                                <i class="fal fa-cog"></i> 
                            </button>
                        </div>
                        <div 
                            class="cell small-12 medium-12 large-12"
                            ng-if="UI.selectPhotos"
                        >
                            <button
                                class="select-image-button button expanded warning white-text"
                                type="button"
                                ng-click="togglePhotoSelection()"
                            >      
                                <i class="fal fa-times-circle"></i> 
                                Cancel
                            </button>
                        </div>
                    </div>
                    <div class="button-group align-right"
                        ng-if="!$root.UI.isMobile"
                    >
                        <image-uploader 
                            client-id="{{client.id}}" 
                            ng-if="!UI.photoFolder"
                        ></image-uploader>
                        <button
                            class="view-client-photos-folders-button view-client-media-folders-button button warning white-text"
                            type="button"
                            ng-click="togglePhotoFolder()"
                            ng-if="UI.photoFolder"
                        >
                            <i class="fal fa-times-circle"></i> 
                            Close
                        </button>
                        <button
                            class="select-image-button button"
                            ng-class="{'warning white-text': UI.selectPhotos,
                            'expanded': $root.UI.isMobile}"
                            type="button"
                            ng-click="togglePhotoSelection()"
                            ng-if="photos.length"
                        >      
                            <span ng-if="!UI.selectPhotos">
                                <i class="fal fa-check-circle"></i> 
                                Select
                            </span>
                            <span ng-if="UI.selectPhotos">
                                <i class="fal fa-times-circle"></i>
                                Cancel
                            </span>
                        </button>
                        <button
                            class="view-client-photos-folders-button view-client-media-folders-button button white-text"
                            ng-class="{
                            'secondary is-active': UI.photoFolder === 'events',
                            'medium-gray-button': UI.photoFolder !== 'events',
                            'expanded': $root.UI.isMobile}"
                            type="button"
                            ng-click="togglePhotoFolder('events')"
                        >
                            <i
                                class="far"
                                ng-class="{'fa-folder-open': UI.photoFolder == 'events', 
                                'fa-folder': UI.photoFolder != 'events'}"
                            ></i> 
                            Events
                        </button>
                        <button
                            class="view-client-photos-folders-button view-client-media-folders-button button white-text"
                            ng-class="{
                            'secondary is-active': UI.photoFolder === 'marketing',
                            'medium-gray-button': UI.photoFolder !== 'marketing',
                            'expanded': $root.UI.isMobile}"
                            type="button"
                            ng-click="togglePhotoFolder('marketing')"
                        >
                            <i
                                class="far"
                                ng-class="{'fa-folder-open': UI.photoFolder == 'marketing', 
                                'fa-folder': UI.photoFolder != 'marketing'}"
                            ></i> 
                            Marketing
                        </button>
                    </div>
                </div>
            </div>
            <div class="cell small-12 medium-12 large-12">
                <h2 class="text-capitalize">
                    <b>
                        <span>
                            {{UI.photoFolder}} 
                        </span>
                        <span ng-if="!UI.photoFolder">
                            Unassigned Photos
                        </span>
                    </b>
                    <span ng-if="event.id">
                        / {{event.title}}
                    </span>
                    <span ng-if="marketing.id">
                        / #{{marketing.id}}
                    </span>
                </h2>
                <div class="grid-x">
                    <div 
                        class="cell small-12 medium-3 large-2"
                        ng-show="UI.photoFolder && !$root.UI.isMobile"
                    >
                        <div 
                            class="viw-client-photos-events-container"
                            ng-if="UI.photoFolder == 'events'"
                        >
                            <ul class="view-client-photos-events-list view-client-media-option-list view-client-photos-option-list">
                                <li class="text-center">
                                    <h4 ng-if="UI.eventsLoaded && !events.length">
                                        <b>
                                            No Events!
                                        </b>
                                    </h4>
                                </li>
                                <li 
                                    class="view-client-photos-option-list-item view-client-media-option-list-item"
                                    ng-repeat="e in events track by $index"
                                >
                                    <button
                                        class="view-client-photos-folders-button medium-gray-button button white-text"
                                        ng-class="event === e ? 'is-active' : 'medium-gray-button white-text'"
                                        type="button"
                                        ng-click="initPhotos('events', e)"
                                    >
                                        <i
                                            class="far"
                                            ng-class="{'fa-folder-open': event == e, 
                                            'fa-folder': event != e}"
                                        ></i> 
                                        {{e.title}}
                                    </button>
                                </li>
                            </ul>
                        </div>
                        <div 
                            class="viw-client-photos-events-containers"
                            ng-if="UI.photoFolder == 'marketing'"
                        >
                            <ul class="view-client-photos-events-list view-client-media-option-list view-client-photos-option-list">
                                <li class="text-center">
                                    <h4 ng-if="UI.marketingsLoaded && !marketings.length">
                                        <b>
                                            No Marketing Projects!
                                        </b>
                                    </h4>
                                </li>
                                <li 
                                    class="view-client-photos-option-list-item view-client-media-option-list-item"
                                    ng-repeat="m in marketings track by $index"
                                >
                                    <button
                                        class="view-client-photos-option-list-item medium-gray-button button white-text"
                                        ng-class="marketing === m ? 'is-active' : 'medium-gray-button white-text'"
                                        type="button"
                                        ng-click="initPhotos('marketing', m)"
                                    >
                                        <i
                                            class="far"
                                            ng-class="{'fa-folder-open': marketing == m, 
                                            'fa-folder': marketing != m}"
                                        ></i> 
                                        <b>#{{m.id}}</b> - {{m.title}}
                                    </button>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="call small-12 medium-auto large-auto">
                        <div class="view-client-photos-images-container view-client-media-items-container">
                            <button
                                class="select-image-button button"
                                type="button"
                                ng-click="togglePhotoSelection()"
                                ng-class="{'warning white-text': UI.selectPhotos,
                                'expanded': $root.UI.isMobile}"
                                ng-show="photos.length && event.id && !UI.eventPhotos.length ||
                                photos.length && marketing.id &&!UI.marketingPhotos.length"
                            >      
                                <span ng-if="!UI.selectPhotos">
                                    <i class="fal fa-check-circle"></i> Select
                                </span>
                                <span ng-if="UI.selectPhotos">
                                    <i class="fal fa-times-circle"></i> Cancel
                                </span>
                            </button>
                            <image-uploader 
                                client-id="{{client.id}}" 
                                event-id="{{event.id}}" 
                                ng-if="UI.photoFolder == 'events' && event.id"
                            ></image-uploader>
                            <image-uploader 
                                client-id="{{client.id}}" 
                                marketing-id="{{marketing.id}}" 
                                ng-if="UI.photoFolder == 'marketing' && marketing.id"
                            ></image-uploader>
                            <format-images 
                                class="container" 
                                images="unassignedPhotos"
                                events="events"
                                estimates="estimates"
                                marketing="marketing"
                                delete-button="true"
                                ng-if="!UI.photoFolder && UI.photosLoaded"
                            ></format-images>
                            <format-images 
                                class="container" 
                                images="eventPhotos"
                                events="events"
                                estimates="estimates"
                                marketing="marketing"
                                delete-button="true"
                                ng-if="UI.photoFolder == 'events' && UI.photosLoaded"
                            ></format-images>
                            <format-images 
                                class="container" 
                                images="marketingPhotos"
                                events="events"
                                estimates="estimates"
                                marketing="marketing"
                                delete-button="true"
                                ng-if="UI.photoFolder == 'marketing' && UI.photosLoaded"
                            ></format-images>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div 
    class="view-photos-options-reveal reveal large"
    id="viewPhotoOptionsReveal"
    data-reveal
    data-close-on-click="false"
>
    <button 
        class="close-button" 
        aria-label="closeViewPhotoOptionsReveal" 
        type="button" 
        data-close
    >
        <span aria-hidden="true">
            <i class="fal fa-times-circle"></i>
        </span>
    </button>
    <div class="view-client-options-mobile golura-block">
        <div class="golura-block grid-y">
            <div class="cell shrink">
                <div 
                    class="button-group stacked"
                    ng-if="!UI.photoFolder"
                >
                    <button
                        class="view-client-photos-select-photos-button submit-button create-button button success white-text" 
                        id="viewClientPhotosSelectPhotosButton"
                        type="button"
                        ng-if="photos.length"
                        ng-click="togglePhotoSelection()"
                        data-close
                    >
                        <i class="fal fa-check-circle"></i> 
                        <span ng-if="!UI.selectPhotos">Select Photos</span>
                        <span ng-if="UI.selectPhotos">Cancel Selection</span>
                    </button>
                    <button
                        class="view-client-photos-unassigned-photos-button button" 
                        id="viewClientPhotosUnassignedPhotosButton"
                        type="button"
                        ng-click="togglePhotoFolder()"
                        data-close
                    >
                        <i class="fal fa-folder-open"></i> Unassigned
                    </button>
                    <button
                        class="view-client-photos-events-photos-button button" 
                        id="viewClientPhotosEventsPhotosButton"
                        type="button"
                        ng-click="togglePhotoFolder('events')"
                    >
                        <i class="fal fa-folder-open"></i> Event
                    </button>
                    <button
                        class="view-client-photos-marketing-photos-button button" 
                        id="viewClientPhotosMarketingPhotosButton"
                        type="button"
                        ng-click="togglePhotoFolder('marketing')"
                    >
                        <i class="fal fa-folder-open"></i> Marketing
                    </button>
                </div>
                <button
                    class="view-client-photos-folders-button view-client-media-folders-button button warning white-text"
                    type="button"
                    ng-click="togglePhotoFolder()"
                    ng-if="UI.photoFolder"
                >
                    <i class="fal fa-times-circle"></i>
                </button>
                <div 
                    class="viw-client-photos-events-container"
                    ng-if="UI.photoFolder == 'events'"
                >
                    <h3 class="text-center">
                        <b>
                            Select Event
                        </b>
                    </h3>
                    <ul class="view-client-photos-events-list view-client-media-option-list view-client-photos-option-list">
                        <li class="text-center">
                            <h4 ng-if="UI.eventsLoaded && !events.length">
                                <b>
                                    No Events!
                                </b>
                            </h4>
                        </li>
                        <li 
                            class="view-client-photos-option-list-item view-client-media-option-list-item"
                            ng-repeat="e in events track by $index"
                        >
                            <button
                                class="view-client-photos-folders-button medium-gray-button button white-text"
                                ng-class="event === e ? 'is-active' : 'medium-gray-button white-text'"
                                type="button"
                                ng-click="initPhotos('events', e)"
                                data-close
                            >
                                <i
                                    class="far"
                                    ng-class="{'fa-folder-open': event == e, 
                                    'fa-folder': event != e}"
                                ></i> 
                                {{e.title}}
                            </button>
                        </li>
                    </ul>
                </div>
                <div 
                    class="viw-client-photos-events-containers"
                    ng-if="UI.photoFolder == 'marketing'"
                >
                    <h3 class="text-center">
                        <b>
                            Select a Marketing Project
                        </b>
                    </h3>
                    <ul class="view-client-photos-events-list view-client-media-option-list view-client-photos-option-list">
                        <li class="text-center">
                            <h4 ng-if="UI.marketingsLoaded && !marketings.length">
                                <b>
                                    No Marketing Projects!
                                </b>
                            </h4>
                        </li>
                        <li 
                            class="view-client-photos-option-list-item view-client-media-option-list-item"
                            ng-repeat="m in marketings track by $index"
                        >
                            <button
                                class="view-client-photos-option-list-item medium-gray-button button white-text"
                                ng-class="marketing === m ? 'is-active' : 'medium-gray-button white-text'"
                                type="button"
                                ng-click="initPhotos('marketing', m)"
                                data-close
                            >
                                <i
                                    class="far"
                                    ng-class="{'fa-folder-open': marketing == m, 
                                    'fa-folder': marketing != m}"
                                ></i> 
                                <b>#{{m.id}}</b> - {{m.title}}
                            </button>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<div
    class="invoice-creation-reveal reveal"
    id="invoiceCreationReveal"
    data-reveal
    data-close-on-click="false"
>
    <button 
        class="close-button" 
        aria-label="closeInvoiceCreationReveal" 
        type="button" 
        data-close
    >
        <span aria-hidden="true">
            <i class="fal fa-times-circle"></i>
        </span>
    </button>
    <div ng-include="'/dist/forms/invoices/ad-hoc-invoice-form.html'"></div>
</div>