<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invoice</title>
    <style type="text/css">
        body {
            margin: 0px !important;
            padding: 0px !important;
            display: block !important;
            min-width: 100% !important;
            width: 100% !important;
            -webkit-text-size-adjust: none;
            word-break: break-word;
            font-family: 'Poppins', Arial, sans-serif !important;
            background: #ffffff;
        }
        table {
            border-spacing: 0;
            font-family: 'Poppins', Arial, sans-serif !important;
        }
        table td {
            border-collapse: collapse;
            font-family: 'Poppins', Arial, sans-serif !important;
        }
        strong {
            font-weight: bold !important;
            font-family: 'Poppins', Arial, sans-serif !important;
        }
        .invoice-header {
            font-size: 24px;
            font-weight: 800;
            color: #ffffff;
            text-align: center;
            padding: 20px 0;
            font-family: 'Poppins', Arial, sans-serif !important;
        }
        .invoice-info {
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            font-family: 'Poppins', Arial, sans-serif !important;
        }
        .invoice-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-family: 'Poppins', Arial, sans-serif !important;
        }
        .invoice-table th,
        .invoice-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
            font-family: 'Poppins', Arial, sans-serif !important;
        }
        .invoice-table th {
            background-color: #f8f9fa;
            font-weight: 800;
            color: #495057;
            font-family: 'Poppins', Arial, sans-serif !important;
        }
        .invoice-total {
            background-color: #e9ecef;
            font-weight: 800;
            font-family: 'Poppins', Arial, sans-serif !important;
        }
        .text-right {
            text-align: right;
            font-family: 'Poppins', Arial, sans-serif !important;
        }
        .text-center {
            text-align: center;
            font-family: 'Poppins', Arial, sans-serif !important;
        }
        .section-title {
            font-size: 18px;
            font-weight: 800;
            color: #495057;
            margin: 20px 0 10px 0;
            font-family: 'Poppins', Arial, sans-serif !important;
        }
        .terms-section {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 16px 20px;
            margin-bottom: 24px;
        }
        .nowrap {
            white-space: nowrap;
        }
        .invoice-table th.text-right,
        .invoice-table td.text-right {
            white-space: nowrap;
        }
        .date-line {
            border-bottom: 1px solid #495057;
            width: 190px;
            height: 32px;
            display: inline-block;
            margin-bottom: 0;
        }
    </style>
</head>
<body style="margin-top: 0; margin-bottom: 0; padding-top: 0; padding-bottom: 0; width: 100%!important; min-width: 100%!important; max-width: 100%!important; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%;">
    <center>
        <!-- Header : Estimate Title -->
        <table width="100%" cellpadding="0" cellspacing="0" border="0" align="center" style="width:100%;min-width:100%;max-width:100%;">
            <tr>
                <td valign="middle" bgcolor="#ffffff" align="center" style="background-color: #ffffff;">
                    <table width="800" cellpadding="0" cellspacing="0" class="row" border="0" align="center" style="width:800px;max-width:800px;">
                        <tr>
                            <td align="center" bgcolor="#3f3faa" style="background-color: var(--primary-color, #3f3faa); border-radius: .25rem;">
                                <table width="800" cellpadding="0" cellspacing="0" class="row" border="0" align="center" style="width:800px;max-width:800px;">
                                    <tr>
                                        <td align="center" class="container-padding">
                                            <table style="width:100%; max-width:100%;">
                                                <tr>
                                                    <td class="invoice-header">
                                                        Invoice
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td class="text-center" style="color:#fff; font-size:18px; font-weight:600;">
                                                        {{invoice.invoiceNumber}}
                                                    </td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
        <!-- Info Section -->
        <table width="100%" cellpadding="0" cellspacing="0" border="0" align="center" style="width:100%;max-width:100%;">
            <tr>
                <td valign="middle" bgcolor="#ffffff" align="center" style="background-color: #ffffff;">
                    <table width="800" cellpadding="0" cellspacing="0" class="row" border="0" align="center" style="width:800px;max-width:800px;">
                        <tr>
                            <td align="center" bgcolor="#FFFFFF" style="background-color:#FFFFFF;">
                                <table width="800" cellpadding="0" cellspacing="0" class="row" border="0" align="center" style="width:800px;max-width:800px;">
                                    <tr>
                                        <td align="center" class="container-padding" style="padding: 20px;">
                                            <!-- Invoice & Client Info -->
                                            <div class="invoice-info">
                                                <table style="width: 100%;">
                                                    <tr>
                                                        <td style="width: 50%; vertical-align: top;">
                                                            <p><strong>Invoice Number:</strong> {{invoice.invoiceNumber}}</p>
                                                            <p><strong>Sub Total:</strong> ${{invoice.subTotal || '0.00'}}</p>
                                                            <p><strong>Discounts Total:</strong> -${{invoice.discountTotal || '0.00'}}</p>
                                                            <p><strong>Total:</strong> ${{invoice.total || '0.00'}}</p>
                                                            <p><strong>Billing Address:</strong> {{invoice.billingAddress.fullAddress}}</p>
                                                        </td>
                                                        <td style="width: 50%; vertical-align: top;">
                                                            <p><strong>Client Name:</strong> {{invoice.Client.fullName}}</p>
                                                            <p><strong>Email:</strong> {{invoice.clientEmail.email}}</p>
                                                            <p><strong>Phone:</strong> {{invoice.clientPhoneNumber.formattedNumber}}</p>
                                                            <p><strong>Address:</strong> {{invoice.clientAddress.fullAddress}}</p>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </div>
                                            <!-- Memo Section -->
                                            {{#if invoice.memo}}
                                            <div class="section-title">Memo</div>
                                            <div class="invoice-info">{{{invoice.memo}}}</div>
                                            {{/if}}
                                            <!-- Line Items Section -->
                                            <div class="section-title">Line Items</div>
                                            <table class="invoice-table">
                                                <thead>
                                                    <tr>
                                                        <th>Name</th>
                                                        <th>Description</th>
                                                        {{#if invoice.lineItemPrice}}
                                                        <th class="text-right nowrap">Price</th>
                                                        {{/if}}
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    {{#each invoice.InvoiceLineItems}}
                                                    <tr>
                                                        <td>{{this.name}}</td>
                                                        <td>{{this.description}}</td>
                                                        {{#if ../lineItemPrice}}
                                                        <td class="text-right nowrap">${{this.totalPrice}}</td>
                                                        {{/if}}
                                                    </tr>
                                                    {{/each}}
                                                </tbody>
                                            </table>
                                            <!-- Discounts Section -->
                                            {{#if invoice.discounts.length}}
                                            <div class="section-title">Discounts</div>
                                            <table class="invoice-table">
                                                <thead>
                                                    <tr>
                                                        <th>Name</th>
                                                        <th class="text-right">Amount</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                        {{#each invoice.discounts}}
                                                        <tr>
                                                            <td>{{this.name}}</td>
                                                            <td class="text-right nowrap">-${{this.total}}</td>
                                                        </tr>
                                                        {{/each}}
                                                </tbody>
                                            </table>
                                             {{/if}}
                                            <!-- Terms Section -->
                                            {{#if invoice.invoiceTermsAndConditions}}
                                            <div class="section-title">Terms and Conditions</div>
                                            <div class="terms-section">{{{invoice.invoiceTermsAndConditions}}}</div>
                                            {{/if}}
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    </center>
</body>
</html>
